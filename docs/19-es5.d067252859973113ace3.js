(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"5C8b":function(l,n,e){"use strict";e.r(n);var u=e("CcnG"),t=function(){return function(){}}(),o=e("pMnS"),i=e("Vu57"),r=e("O2lF"),s=e("uk9C"),a=e("zsqI"),c=e("2nQl"),b=e("oBZk"),p=e("ZZ/e"),h=e("Ip0R"),d=e("mrSG"),f=e("E8uS"),m=e("EnSQ"),y=e("RANn"),v=function(){function l(l,n,e,u,t){this.navService=l,this.dataService=n,this.platform=e,this.toastController=u,this.popoverController=t,this.editWasReached=!1}return l.prototype.ngOnInit=function(){},l.prototype.refresh=function(){this.navService.reportChanges()},l.prototype.deleteOnDrag=function(l,n){return d.b(this,void 0,void 0,(function(){var e;return d.e(this,(function(u){switch(u.label){case 0:return e=this.platform.width()/100*80,-1*l.detail.amount>=e?[4,this.deletePlayer(n)]:[3,2];case 1:return u.sent(),[3,3];case 2:l.detail.amount>=e?(this.editWasReached||this.onEditPlayerClicked(n),this.editWasReached=!0):this.editWasReached=!1,u.label=3;case 3:return[2]}}))}))},l.prototype.deletePlayer=function(l){return d.b(this,void 0,void 0,(function(){return d.e(this,(function(n){switch(n.label){case 0:return this.players.splice(this.players.indexOf(l),1),[4,this.dataService.deletePlayer(l)];case 1:return n.sent(),[4,this.presentToastWithOptions(l)];case 2:return n.sent(),this.refresh(),[2]}}))}))},l.prototype.presentToastWithOptions=function(l){return d.b(this,void 0,void 0,(function(){var n=this;return d.e(this,(function(e){switch(e.label){case 0:return[4,f.a.presentUndoToast(this.toastController,l.name,(function(){n.dataService.undoLastOperation().then((function(){return n.players.indexOf(l)<0&&n.players.push(l),n.refresh(),!0}))}))];case 1:return e.sent(),[2]}}))}))},l.prototype.onEditPlayerClicked=function(l){return d.b(this,void 0,void 0,(function(){var n=this;return d.e(this,(function(e){switch(e.label){case 0:return[4,f.a.presentPlayerPopover(this.popoverController,l,(function(){n.itemList.closeSlidingItems().then((function(){return!0})),n.refresh()}))];case 1:return e.sent(),[2]}}))}))},l.prototype.onAddPlayer=function(){return d.b(this,void 0,void 0,(function(){var l;return d.e(this,(function(n){switch(n.label){case 0:return[4,this.dataService.createNewPlayer("")];case 1:return l=n.sent(),this.players.push(l),[4,f.a.presentPlayerPopover(this.popoverController,l)];case 2:return n.sent(),this.refresh(),[2]}}))}))},l.prototype.onGoToPlayerClicked=function(l){return d.b(this,void 0,void 0,(function(){return d.e(this,(function(n){switch(n.label){case 0:return[4,this.navService.goToPlayer(l.id)];case 1:return n.sent(),[2]}}))}))},l}(),k=u.qb({encapsulation:0,styles:[["[_nghost-%COMP%]   .second-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]],data:{}});function g(l){return u.Lb(0,[(l()(),u.sb(0,0,null,null,8,"ion-item-divider",[],null,null,null,b.J,b.j)),u.rb(1,49152,null,0,p.G,[u.h,u.k,u.z],null,null),(l()(),u.sb(2,0,null,0,2,"ion-label",[["color","light"]],null,null,null,b.O,b.n)),u.rb(3,49152,null,0,p.L,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.Jb(4,0,["",""])),(l()(),u.sb(5,0,null,0,3,"ion-button",[["fill","clear"],["size","default"],["slot","end"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onAddPlayer()&&u),u}),b.C,b.b)),u.rb(6,49152,null,0,p.i,[u.h,u.k,u.z],{fill:[0,"fill"],size:[1,"size"]},null),(l()(),u.sb(7,0,null,0,1,"ion-icon",[["name","person-add"],["slot","icon-only"]],null,null,null,b.H,b.g)),u.rb(8,49152,null,0,p.A,[u.h,u.k,u.z],{name:[0,"name"]},null)],(function(l,n){l(n,3,0,"light"),l(n,6,0,"clear","default"),l(n,8,0,"person-add")}),(function(l,n){l(n,4,0,n.component.header)}))}function z(l){return u.Lb(0,[(l()(),u.sb(0,0,null,null,49,"ion-item-sliding",[],null,[[null,"ionDrag"]],(function(l,n,e){var u=!0;return"ionDrag"===n&&(u=!1!==l.component.deleteOnDrag(e,l.context.$implicit)&&u),u}),b.M,b.m)),u.rb(1,49152,null,0,p.K,[u.h,u.k,u.z],null,null),(l()(),u.sb(2,0,null,0,6,"ion-item-options",[["side","start"]],null,null,null,b.L,b.l)),u.rb(3,49152,null,0,p.J,[u.h,u.k,u.z],{side:[0,"side"]},null),(l()(),u.sb(4,0,null,0,4,"ion-item-option",[["color","danger"],["expandable",""]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deletePlayer(l.context.$implicit)&&u),u}),b.K,b.k)),u.rb(5,49152,null,0,p.I,[u.h,u.k,u.z],{color:[0,"color"],expandable:[1,"expandable"]},null),(l()(),u.sb(6,0,null,0,1,"ion-icon",[["name","trash"],["slot","icon-only"]],null,null,null,b.H,b.g)),u.rb(7,49152,null,0,p.A,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.Jb(-1,0,[" L\xf6schen "])),(l()(),u.sb(9,0,null,0,33,"ion-item",[],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onGoToPlayerClicked(l.context.$implicit)&&u),u}),b.N,b.i)),u.rb(10,49152,null,0,p.F,[u.h,u.k,u.z],null,null),(l()(),u.sb(11,0,null,0,1,"ion-icon",[["color","medium"],["name","person"],["slot","start"]],null,null,null,b.H,b.g)),u.rb(12,49152,null,0,p.A,[u.h,u.k,u.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),u.sb(13,0,null,0,29,"ion-label",[["class","label-info"]],null,null,null,b.O,b.n)),u.rb(14,49152,null,0,p.L,[u.h,u.k,u.z],null,null),(l()(),u.sb(15,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),u.Jb(16,null,["",""])),(l()(),u.sb(17,0,null,0,6,"p",[["class","second-line"]],null,null,null,null,null)),(l()(),u.sb(18,0,null,null,2,"ion-text",[["color","medium"]],null,null,null,b.Y,b.x)),u.rb(19,49152,null,0,p.vb,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.Jb(-1,0,["Erstellt am: "])),(l()(),u.sb(21,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.Jb(22,null,["",""])),u.Fb(23,2),(l()(),u.sb(24,0,null,0,6,"p",[["class","second-line"]],null,null,null,null,null)),(l()(),u.sb(25,0,null,null,2,"ion-text",[["color","medium"]],null,null,null,b.Y,b.x)),u.rb(26,49152,null,0,p.vb,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.Jb(-1,0,["Zuletzt gespielt am:"])),(l()(),u.sb(28,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),u.Jb(29,null,["",""])),u.Fb(30,2),(l()(),u.sb(31,0,null,0,5,"p",[["class","second-line"]],null,null,null,null,null)),(l()(),u.sb(32,0,null,null,2,"ion-text",[["color","medium"]],null,null,null,b.Y,b.x)),u.rb(33,49152,null,0,p.vb,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.Jb(-1,0,["Gewonnen/Verloren/Offen"])),(l()(),u.sb(35,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Jb(36,null,["","/","/",""])),(l()(),u.sb(37,0,null,0,5,"p",[["class","second-line"]],null,null,null,null,null)),(l()(),u.sb(38,0,null,null,2,"ion-text",[["color","medium"]],null,null,null,b.Y,b.x)),u.rb(39,49152,null,0,p.vb,[u.h,u.k,u.z],{color:[0,"color"]},null),(l()(),u.Jb(-1,0,["Alle Spiele"])),(l()(),u.sb(41,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Jb(42,null,["",""])),(l()(),u.sb(43,0,null,0,6,"ion-item-options",[["side","end"]],null,null,null,b.L,b.l)),u.rb(44,49152,null,0,p.J,[u.h,u.k,u.z],{side:[0,"side"]},null),(l()(),u.sb(45,0,null,0,4,"ion-item-option",[["expandable",""]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onEditPlayerClicked(l.context.$implicit)&&u),u}),b.K,b.k)),u.rb(46,49152,null,0,p.I,[u.h,u.k,u.z],{expandable:[0,"expandable"]},null),(l()(),u.sb(47,0,null,0,1,"ion-icon",[["name","create"],["slot","icon-only"]],null,null,null,b.H,b.g)),u.rb(48,49152,null,0,p.A,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.Jb(-1,0,[" Bearbeiten "]))],(function(l,n){l(n,3,0,"start"),l(n,5,0,"danger",""),l(n,7,0,"trash"),l(n,12,0,"medium","person"),l(n,19,0,"medium"),l(n,26,0,"medium"),l(n,33,0,"medium"),l(n,39,0,"medium"),l(n,44,0,"end"),l(n,46,0,""),l(n,48,0,"create")}),(function(l,n){l(n,16,0,n.context.$implicit.name||"Unbekannt");var e=u.Kb(n,22,0,l(n,23,0,u.Db(n.parent,0),n.context.$implicit.created,"d.MMM.yyyy HH:mm"));l(n,22,0,e);var t=u.Kb(n,29,0,l(n,30,0,u.Db(n.parent,0),n.context.$implicit.lastPlayed,"d.MMM.yyyy HH:mm"));l(n,29,0,t),l(n,36,0,n.context.$implicit.winCount,n.context.$implicit.looseCount,n.context.$implicit.openCount),l(n,42,0,n.context.$implicit.playCount)}))}function x(l){return u.Lb(0,[u.Eb(0,h.d,[u.u]),u.Hb(671088640,1,{itemList:0}),(l()(),u.sb(2,0,null,null,6,"ion-button",[["class","ion-text-left"],["color","secondary"],["expand","full"],["fill","outline"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.onAddPlayer()&&u),u}),b.C,b.b)),u.rb(3,49152,null,0,p.i,[u.h,u.k,u.z],{color:[0,"color"],expand:[1,"expand"],fill:[2,"fill"]},null),(l()(),u.sb(4,0,null,0,1,"ion-icon",[["name","add"],["slot","start"]],null,null,null,b.H,b.g)),u.rb(5,49152,null,0,p.A,[u.h,u.k,u.z],{name:[0,"name"]},null),(l()(),u.sb(6,0,null,0,2,"ion-label",[["slot","start"]],null,null,null,b.O,b.n)),u.rb(7,49152,null,0,p.L,[u.h,u.k,u.z],null,null),(l()(),u.Jb(-1,0,["Neuen Spieler anlegen"])),(l()(),u.sb(9,0,null,null,5,"ion-list",[["lines","full"]],null,null,null,b.Q,b.o)),u.rb(10,49152,[[1,4],["itemList",4]],0,p.M,[u.h,u.k,u.z],{lines:[0,"lines"]},null),(l()(),u.hb(16777216,null,0,1,null,g)),u.rb(12,16384,null,0,h.j,[u.N,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.hb(16777216,null,0,1,null,z)),u.rb(14,278528,null,0,h.i,[u.N,u.K,u.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,3,0,"secondary","full","outline"),l(n,5,0,"add"),l(n,10,0,"full"),l(n,12,0,e.header),l(n,14,0,e.players)}),null)}var C=function(){function l(l,n,e){var u=this;this.dataService=l,this.popoverController=n,this.navService=e,this.navService.refreshStream.subscribe((function(){u.refresh()}))}return l.prototype.ionViewWillEnter=function(){this.refresh()},l.prototype.refresh=function(){this.all=this.dataService.getPlayers(!1,!1),this.players=this.dataService.getPlayers()},l.prototype.filterGames=function(l){return d.b(this,void 0,void 0,(function(){var n=this;return d.e(this,(function(e){switch(e.label){case 0:return[4,f.a.presentGameSettingsPopover(this.popoverController,"players",(function(){return n.refresh()}),l)];case 1:return e.sent(),[2]}}))}))},l}(),P=u.qb({encapsulation:0,styles:[[".welcome-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}"]],data:{}});function w(l){return u.Lb(0,[(l()(),u.sb(0,0,null,null,14,"ion-header",[],null,null,null,b.G,b.f)),u.rb(1,49152,null,0,p.z,[u.h,u.k,u.z],null,null),(l()(),u.sb(2,0,null,0,12,"ion-toolbar",[],null,null,null,b.bb,b.A)),u.rb(3,49152,null,0,p.Ab,[u.h,u.k,u.z],null,null),(l()(),u.sb(4,0,null,0,4,"ion-title",[["class","counter-title"]],null,null,null,b.Z,b.y)),u.rb(5,49152,null,0,p.yb,[u.h,u.k,u.z],null,null),(l()(),u.Jb(-1,0,["Spieler "])),(l()(),u.sb(7,0,null,0,1,"span",[["class","counter"]],null,null,null,null,null)),(l()(),u.Jb(8,null,["("," / ",")"])),(l()(),u.sb(9,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,b.D,b.c)),u.rb(10,49152,null,0,p.j,[u.h,u.k,u.z],null,null),(l()(),u.sb(11,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.filterGames(e)&&u),u}),b.C,b.b)),u.rb(12,49152,null,0,p.i,[u.h,u.k,u.z],null,null),(l()(),u.sb(13,0,null,0,1,"ion-icon",[["name","settings"],["slot","icon-only"]],null,null,null,b.H,b.g)),u.rb(14,49152,null,0,p.A,[u.h,u.k,u.z],{color:[0,"color"],name:[1,"name"]},null),(l()(),u.sb(15,0,null,null,3,"ion-content",[],null,null,null,b.F,b.e)),u.rb(16,49152,null,0,p.s,[u.h,u.k,u.z],null,null),(l()(),u.sb(17,0,null,0,1,"app-player-list",[],null,null,null,x,k)),u.rb(18,114688,null,0,v,[y.a,m.a,p.Hb,p.Lb,p.Ib],{players:[0,"players"]},null)],(function(l,n){var e=n.component;l(n,14,0,(null==e.all?null:e.all.length)===(null==e.players?null:e.players.length)?"medium":"warning","settings"),l(n,18,0,e.players)}),(function(l,n){var e=n.component;l(n,8,0,null==e.players?null:e.players.length,null==e.all?null:e.all.length)}))}function S(l){return u.Lb(0,[(l()(),u.sb(0,0,null,null,1,"app-players-page",[],null,null,null,w,P)),u.rb(1,49152,null,0,C,[m.a,p.Ib,y.a],null,null)],null,null)}var J=u.ob("app-players-page",C,S,{},{},[]),O=e("gIcY"),B=e("ZYCi"),L=e("j1ZV");e.d(n,"PlayersPageModuleNgFactory",(function(){return A}));var A=u.pb(t,[],(function(l){return u.Ab([u.Bb(512,u.j,u.ab,[[8,[o.a,i.a,r.a,s.a,a.a,c.a,J]],[3,u.j],u.x]),u.Bb(4608,h.l,h.k,[u.u,[2,h.r]]),u.Bb(4608,p.a,p.a,[u.z,u.g]),u.Bb(4608,p.Eb,p.Eb,[p.a,u.j,u.q]),u.Bb(4608,p.Ib,p.Ib,[p.a,u.j,u.q]),u.Bb(4608,O.g,O.g,[]),u.Bb(1073742336,h.b,h.b,[]),u.Bb(1073742336,p.Cb,p.Cb,[]),u.Bb(1073742336,O.f,O.f,[]),u.Bb(1073742336,O.a,O.a,[]),u.Bb(1073742336,B.n,B.n,[[2,B.s],[2,B.m]]),u.Bb(1073742336,L.a,L.a,[]),u.Bb(1073742336,t,t,[]),u.Bb(1024,B.k,(function(){return[[{path:"",component:C}]]}),[])])}))}}]);